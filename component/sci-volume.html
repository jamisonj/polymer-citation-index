<dom-module id="sci-volume">
    <link rel="import" href="../bower_components/polymer/polymer.html">
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="../bower_components/paper-button/paper-button.html">
    <link rel="import" href="../bower_components/iron-collapse/iron-collapse.html">
    <link rel="import" href="../bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
    <link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">

    <link rel="import" href="sci-book.html">
    <link rel="import" type="css" href="../css/sci-volume.css">

    <style is="custom-style" include="iron-flex iron-flex-alignment">
    </style>

    <template>
        <div class="layout horizontal">
            <paper-button class="volume flex" on-tap="toggle"
                          data-args="{{volume.id}}">{{volume.fullName}}</paper-button>
            <paper-icon-button class="volume-icon" id="icon{{volume.id}}" on-tap="toggle"
                          data-args="{{volume.id}}" icon="icons:expand-less"></paper-icon-button>
        </div>
        <iron-collapse id="collapse{{volume.id}}" opened="true">
            <div class="layout horizontal wrap">
                <template is="dom-repeat" items="{{volume.books}}">
                    <sci-book book="{{item}}" volume="{{volume}}"></sci-book>
                </template>
            </div>
        </iron-collapse>
    </template>

    <script>
        Polymer({
            is: 'sci-volume',

            properties: {
                volume: Object
            },

            toggle: function (event) {
                SciUtilities.toggleCollapse(event, 'collapse', 'icon');
            }
        });
    </script>
</dom-module>
